<!doctype html>
<html lang="en">
  <head>
    <title>{{ page.song_title }} &bull; Marcus Whybrow</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="{{ page.song_title }}{% if page.song_author %} by {{ page.song_author }}{% endif %}.">

    <style>
      header h1 {
        text-align: center;
        text-transform: uppercase;
        font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
        font-size: 150%;
        margin-bottom: 0;
        color: rgb(94, 94, 94);
      }
      header address {
        text-align: center;
      }
      header #banner {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        border-bottom: 1px solid rgb(179, 179, 179);
        text-align: center;
        padding: 10px;
        text-transform: uppercase;
        text-decoration: none;
        color: rgb(179, 179, 179);
      }
      article {
        margin-top: 70px;
      }
      #loading {
        text-align: center;
        font-size: 300%;
        color: rgb(124, 124, 124);
        text-shadow: 0 0 10px rgb(150, 150, 150);
      }

      #notation {
        display: none;
      }
      #render {
        padding: 40px;
      }
      #render .piece {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
      }
      #render .bar {
        flex-grow: 1;
        border-left: 1px dashed rgb(235, 235, 235);
        
        margin: 30px 0;
        display: flex;
      }
      #render .gap {
        flex-grow: 1000000000;
      }
      #render .bar.bar-first-in-row,
      #render .bar.bar-first-in-row:before {
        border-left-color: rgb(179, 179, 179);
      }
      #render .bar:not(:last-of-type).bar-last-in-row {
        border-right: 1px dashed rgb(235, 235, 235);
      }
      #render .bar.bar-last-in-row[data-next-bar-type="double"] {
        position: relative;
        border-right: 1px dashed rgb(235, 235, 235);
      }
      #render .bar.bar-last-in-row[data-next-bar-type="double"]:after {
        content: " ";
        position: absolute;
        z-index: -1;
        top: -0;
        right: 2px;
        width: 1px;
        bottom: 0;
        background-color: rgb(235, 235, 235);
      }
      /* #render .bar:last-of-type {
        position: relative;
        border-right: 1px solid rgb(202, 202, 202);
      }
      #render .bar:last-of-type:after {
        content: " ";
        position: absolute;
        z-index: -1;
        top: -0;
        right: -5px;
        width: 2px;
        bottom: 0;
        background-color: rgb(180, 180, 180);
      } */
      #render .bar.bar-double {
        position: relative;
        border-left: 1px dashed rgb(235, 235, 235);
        /* background-color: rgb(230, 230, 230); */
      }
      #render .bar.bar-double:before {
        content: " ";
        position: absolute;
        z-index: 1;
        top: -0;
        left: 2px;
        width: 0;
        bottom: 0;
        border-left: 1px dashed rgb(235, 235, 235);
      }
      #render .bar.bar-double.bar-first-in-row,
      #render .bar.bar-double.bar-first-in-row:before {
        border-left-color: rgb(179, 179, 179);
      }
      #render .bar .beat {
        flex-grow: 1;
        display: inline-block;
        vertical-align: top;
      }
      #render .bar .beat .instrument {
        padding: 3px 0;
        margin: 0px 0;
      }
      #render .bar .beat .instrument.instrument-hide {
        display: none;
        /* background-color: red; */
      }
      #render .instrument.instrument-single-voice {
        font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
        font-size: 11px;
      }
      #render .instrument.instrument-multi-voice {
        font-family: monospace;
      }
      #render .bar .beat .instrument:first-child {
        margin-top: 0;
      }
      #render .bar .beat .instrument:last-child {
        margin-bottom: 0;
      }
      #render .bar .beat .instrument[data-name="CHORDS"] {
        padding-top: 0;
        padding-bottom: 0;
      }
      #render .bar .beat .instrument .voice[data-instrument-name="CHORDS"] {
        padding-top: 2px;
        height: 20px;
        /* background-color: rgb(240, 240, 240); */
      }
      #render .bar .beat .instrument .voice[data-instrument-name="CHORDS"]:after {
        height: 0px;
        top: 11px;
        border-color: rgb(216, 216, 216);
      }
      #render .bar .beat .instrument .voice[data-instrument-name="CHORDS"] span {
        background-color: transparent;
        background-color: rgb(189, 189, 189);
        color: rgb(255, 255, 255);
        font-weight: bold;
        border-radius: 3px;
        font-size: 115%;
        padding: 1px 4px;
      }
      #render .bar .beat .instrument .voice[data-instrument-name="TAB"]:after {
        border-bottom: 1px solid rgb(243, 243, 243);
      }
      #render .bar .beat .instrument .voice {
        position: relative;
        height: 15px;
        padding-right: 5px;
      }
      #render .bar .beat .instrument .voice:after {
        content: " ";
        position: absolute;
        z-index: -1;
        top: 8px;
        left: 0;
        right: 0;
        height: 1px;
        /* background-color: rgb(235, 235, 235); */
        border-bottom: 1px dashed rgb(235, 235, 235);
      }
      #render .bar .beat .instrument .voice span {
        background-color: white;
        padding: 0 3px;
      }

      #render .bar .beat:first-child .voice {
        padding-left: 10px;
      }
      #render .bar.bar-double .beat:first-child .voice {
        padding-left: 12px;
      }
      #render .bar .beat:last-child .voice {
        padding-right: 10px;
      }

      @media only screen and (max-width: 600px) {
        #render {
          padding: 20px 5px 5px 5px;
        }
        #render .bar {
          margin: 10px 0;
        }
      }
      
    </style>
  </head>
  <body>
    <!-- <a id="banner" href="./">Songs</a> -->

    <article>
      <header>
        {% assign slug = page.url | split: '/' | last | split: '.' | first %}
        <h1 class="{{ slug }}">{{ page.song_title }}</h1>
        {% if page.song_author %}<address>{{ page.song_author }}</address>{% endif %}
        <a id="banner" href="/chords/">Chords</a>
      </header>

      <div id="render"><div id="loading">. . .</div></div>
<pre id="notation">{{ content }}</pre>
    </article>
  </body>

  <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
  <script type="module" src="/scripts/tab-engine/main.js"></script>
</html>
