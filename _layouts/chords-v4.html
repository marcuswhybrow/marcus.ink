<!doctype html>
<html lang="en">
  <head>
    <title>{{ page.song_title }} &bull; Marcus Whybrow</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="{{ page.song_title }}{% if page.song_author %} by {{ page.song_author }}{% endif %}.">

    <style>
      #notation {
        display: none;
      }
      #render .piece {
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
      }
      #render .bar {
        flex-grow: 1;
        border-left: 1px solid rgb(202, 202, 202);
        margin: 30px 0;
        display: flex;
      }
      #render .gap {
        flex-grow: 1000000000;
      }
      #render .bar:not(:last-of-type).bar-last-in-row {
        border-right: 1px solid rgb(202, 202, 202);
      }
      #render .bar.bar-last-in-row[data-next-bar-type="double"] {
        position: relative;
        border-right: 1px solid rgb(202, 202, 202);
      }
      #render .bar.bar-last-in-row[data-next-bar-type="double"]:after {
        content: " ";
        position: absolute;
        z-index: -1;
        top: -0;
        right: 2px;
        width: 1px;
        bottom: 0;
        background-color: rgb(180, 180, 180);
      }
      /* #render .bar:last-of-type {
        position: relative;
        border-right: 1px solid rgb(202, 202, 202);
      }
      #render .bar:last-of-type:after {
        content: " ";
        position: absolute;
        z-index: -1;
        top: -0;
        right: -5px;
        width: 2px;
        bottom: 0;
        background-color: rgb(180, 180, 180);
      } */
      #render .bar.bar-double {
        position: relative;
        border-left: 1px solid rgb(180, 180, 180);
        /* background-color: rgb(230, 230, 230); */
      }
      #render .bar.bar-double:before {
        content: " ";
        position: absolute;
        z-index: -1;
        top: -0;
        left: 2px;
        width: 1px;
        bottom: 0;
        background-color: rgb(180, 180, 180);
      }
      #render .bar .beat {
        flex-grow: 1;
        display: inline-block;
        vertical-align: top;
      }
      #render .bar.bar.bar-double .beat:first-child .voice {
        padding-left: 8px;
      }
      #render .bar .beat:first-child .voice {
        padding-left: 5px;
      }
      #render .bar .beat .instrument {
        padding: 5px 0;
        margin: 10px 0;
      }
      #render .bar .beat .instrument.instrument-hide {
        display: none;
        /* background-color: red; */
      }
      #render .instrument.instrument-single-voice {
        font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
        font-size: 11px;
      }
      #render .instrument.instrument-multi-voice {
        font-family: monospace;
      }
      #render .bar .beat .instrument:first-child {
        margin-top: 0;
      }
      #render .bar .beat .instrument:last-child {
        margin-bottom: 0;
      }
      #render .bar .beat .instrument .voice {
        position: relative;
        height: 15px;
        padding-right: 5px;
      }
      #render .bar .beat .instrument .voice:after {
        content: " ";
        position: absolute;
        z-index: -1;
        top: 8px;
        left: 0;
        right: 0;
        height: 1px;
        background-color: rgb(235, 235, 235);
      }
      #render .bar .beat .instrument .voice span {
        background-color: white;
        padding: 0 3px;
      }
      
    </style>
  </head>
  <body>
    <!-- <a id="banner" href="./">Songs</a> -->

    <article>
      <header>
        {% assign slug = page.url | split: '/' | last | split: '.' | first %}
        <h1 class="{{ slug }}">{{ page.song_title }}</h1>
        {% if page.song_author %}<address>{{ page.song_author }}</address>{% endif %}
        <a href="/chords/">back</a>
      </header>

      <div id="render">Loading ...</div>
<pre id="notation">{{ content }}</pre>
    </article>
  </body>

  <script crossorigin src="https://unpkg.com/react@16/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.production.min.js"></script>
  <script type="module" src="/scripts/tab-engine/main.js"></script>
</html>
